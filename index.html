<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Lienzo Kinopio</title>
  <style>
    /* Estilo b치sico para el cuerpo y el canvas */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: #f7f7f7;
    }

    #canvas {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background-color: white;
      box-sizing: border-box;
      padding: 40px;
      margin: 0 auto;
    }

    /* Estilo para los nodos (cuadros de texto) */
    .node {
      position: absolute;
      font-size: 18px;
      background-color: #cfe7ff;
      border-radius: 16px;
      font-family: 'Segoe UI', sans-serif;
      color: #333;
      white-space: pre-wrap;
      word-wrap: break-word;
      z-index: 10;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    /* Estilo para im치genes (sin m치rgenes, manteniendo el tama침o original) */
    .node img {
      width: auto;
      height: auto;
      max-width: 100%;
      max-height: 100%;
      border-radius: 12px;
    }

    /* Estilo para los botones (enlace de Spotify y GitHub) */
    .button-link {
      display: inline-block;
      padding: 12px 18px;
      background-color: #1db954;
      color: white;
      text-decoration: none;
      border-radius: 30px;
      font-weight: bold;
      margin-top: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: background-color 0.2s ease;
    }

    .button-link:hover {
      background-color: #17a44d;
    }
  </style>
</head>
<body>
  <div id="canvas"></div>

  <script>
    // Cargar el archivo JSON (canvas) desde GitHub
    fetch('https://raw.githubusercontent.com/Lyhuwu/Feliz-aniversario-amor-mio/main/Ayayayayaay.canvas') // URL de tu archivo canvas
      .then(res => res.json())
      .then(data => {
        const canvas = document.getElementById('canvas');

        // Iterar sobre los nodos (elementos) del canvas
        data.nodes.forEach(node => {
          const div = document.createElement('div');
          div.className = 'node';

          // Ajustar la posici칩n (x, y) de acuerdo a las coordenadas del canvas
          div.style.left = node.x + 'px';
          div.style.top = node.y + 'px';

          const text = node.text.trim();

          // Si es una URL de imagen, mostrarla sin margen, con su tama침o original
          if (text.match(/\.(jpg|jpeg|png|gif)$/i) || text.includes('cdn.kinopio')) {
            const img = document.createElement('img');
            img.src = text;
            img.style.width = node.width + 'px';  // Ajustar el tama침o de la imagen seg칰n el canvas
            img.style.height = node.height + 'px'; // Ajustar la altura de la imagen seg칰n el canvas
            div.appendChild(img);
          }
          // Si es un enlace de Spotify, lo mostramos como un bot칩n bonito
          else if (text.includes('open.spotify.com')) {
            const a = document.createElement('a');
            a.href = text;
            a.target = '_blank';
            a.className = 'button-link';
            a.innerHTML = '游꿧 Escuchar en Spotify';
            div.appendChild(a);
          }
          // Si es un enlace de GitHub, lo mostramos como un bot칩n bonito
          else if (text.includes('github.io')) {
            const a = document.createElement('a');
            a.href = text;
            a.target = '_blank';
            a.className = 'button-link';
            a.innerHTML = '游댕 Abrir enlace';
            div.appendChild(a);
          }
          // Si es un texto normal, lo mostramos dentro de una tarjetita ajustable
          else {
            div.innerText = text;

            // Ajustar el tama침o de la tarjeta de texto seg칰n el tama침o del texto
            div.style.fontSize = node.fontSize ? node.fontSize + 'px' : '18px';
            div.style.width = node.width + 'px';  // Ajuste del ancho basado en el canvas
            div.style.height = node.height + 'px';  // Ajuste de la altura basado en el canvas
          }

          // A침adir el nodo (div) al lienzo
          canvas.appendChild(div);
        });
      })
      .catch(error => {
        console.error("Error al cargar el archivo JSON:", error);
      });
  </script>

</body>
</html>
