<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi Lienzo Kinopio</title>
  <style>
    /* Fondo y m치rgenes generales */
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background: #f7f7f7;
    }

    /* Canvas con borde suave y alineaci칩n central */
    #canvas {
      position: relative;
      width: 100%;
      height: 100vh;
      overflow: hidden;
      background-color: white;
      padding: 40px;
      box-sizing: border-box;
      border-radius: 12px;
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      margin: 0 auto;
    }

    /* Estilo de los nodos de Kinopio */
    .node {
      position: absolute;
      display: inline-block;
      padding: 15px 20px;
      font-size: 18px;
      background-color: #cfe7ff;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      font-family: 'Segoe UI', sans-serif;
      color: #333;
      transition: transform 0.3s ease;
      max-width: 280px;
      min-width: 120px;
      white-space: pre-wrap;
      word-wrap: break-word;
      z-index: 10;
    }

    /* Estilo de im치genes y gifs con tama침o fijo */
    .node img {
      max-width: 300px; /* Tama침o fijo para las im치genes */
      height: auto;
      border-radius: 12px;
    }

    /* Botones estilizados para Spotify y otros enlaces */
    .button-link {
      display: inline-block;
      padding: 12px 18px;
      background-color: #1db954;
      color: white;
      text-decoration: none;
      border-radius: 30px;
      font-weight: bold;
      margin-top: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      transition: background-color 0.2s ease;
    }

    .button-link:hover {
      background-color: #17a44d;
    }

    /* Decoraciones visuales */
    .node .emoji {
      font-size: 30px;
      margin-right: 8px;
    }

  </style>
</head>
<body>
  <div id="canvas"></div>

  <script>
    // Fetch del archivo canvas (aqu칤 debes poner tu link a GitHub)
    fetch('https://raw.githubusercontent.com/Lyhuwu/Feliz-aniversario-amor-mio/main/Ayayayayaay.canvas')
      .then(res => res.json())
      .then(data => {
        const canvas = document.getElementById('canvas');

        // Recorrer cada nodo para colocarlo en el lienzo
        data.nodes.forEach(node => {
          const div = document.createElement('div');
          div.className = 'node';

          // Posicionar el nodo con las coordenadas 'x' y 'y' que nos da el JSON
          div.style.left = node.x + 'px';
          div.style.top = node.y + 'px';

          const text = node.text.trim();

          // Si es una URL de imagen, se muestra la imagen con tama침o fijo
          if (text.match(/\.(jpg|jpeg|png|gif)$/i) || text.includes('cdn.kinopio')) {
            const img = document.createElement('img');
            img.src = text;
            div.appendChild(img);
          }
          // Si es un enlace de Spotify, se muestra como un bot칩n bonito
          else if (text.includes('open.spotify.com')) {
            const a = document.createElement('a');
            a.href = text;
            a.target = '_blank';
            a.className = 'button-link';
            a.innerHTML = '游꿧 Escuchar en Spotify';
            div.appendChild(a);
          }
          // Si es un enlace de GitHub u otro, lo hace clickable
          else if (text.includes('github.io')) {
            const a = document.createElement('a');
            a.href = text;
            a.target = '_blank';
            a.className = 'button-link';
            a.innerHTML = '游댕 Abrir enlace';
            div.appendChild(a);
          }
          // Si es texto normal, lo mostramos
          else {
            // A침adir un emoji antes del texto (si queremos)
            const emoji = document.createElement('span');
            emoji.className = 'emoji';
            emoji.innerText = '游눫';  // Emoji decorativo

            div.prepend(emoji);
            div.innerText += ' ' + text;  // A침adir texto
          }

          // A침adir el nodo al lienzo
          canvas.appendChild(div);
        });
      })
      .catch(error => {
        console.error("Error al cargar el archivo JSON:", error);
      });
  </script>

</body>
</html>
